<!DOCTYPE html>
<html lang="th">
  <head>
    <title>Test</title>
    <meta charset="UTF-8" />
  </head>
  <body>
    <div class="section">
      <div class="step" data-step="1">
        Step 1
        <p>Test</p>
      </div>
    </div>
    <div class="section">
      <div class="step" data-step="2">Step 2</div>
    </div>
    <div class="section">
      <div class="step" data-step="3">Step 3</div>
    </div>

    <style>
      .section {
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: aquamarine;
      }

      .step {
        opacity: 0.25;
        transition: opacity 0.3s;
      }

      .step.is-active {
        opacity: 1;
      }
    </style>

    <script>
      // Ensure DOM is fully loaded before initializing Scrollama
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize Scrollama
        const scroller = scrollama();

        // Setup the scroller with the required settings
        scroller
          .setup({
            step: ".step", // required
            offset: 0.5, // optional, default = 0.5
            debug: true, // optional, default = false
          })
          .onStepEnter((response) => {
            // { element, index, direction }
            console.log(response);
            // Add your custom logic for entering a step
            response.element.classList.add("is-active");
          })
          .onStepExit((response) => {
            // { element, index, direction }
            console.log(response);
            // Add your custom logic for exiting a step
            response.element.classList.remove("is-active");
          });

        // Setup resize event
        window.addEventListener("resize", scroller.resize);
      });
    </script>
  </body>
</html>
